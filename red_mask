#!/bin/bash
# Single-command red masking workflow
# Usage: ./red_mask <image_path> [output_prefix]

# Get current directory
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Activate virtual environment
source "$DIR/comfyui_env/bin/activate"

# Set default values
IMAGE_PATH="${1:-sample_shirt.jpg}"
OUTPUT_PREFIX="${2:-red_masked}"

echo "ðŸ”´ RED MASKING WORKFLOW"
echo "======================="
echo "Image: $IMAGE_PATH"
echo "Output: $OUTPUT_PREFIX"
echo ""

# Run the Python script
cd "$DIR"
python process_direct_ai_detection.py "$IMAGE_PATH" "$OUTPUT_PREFIX"

echo ""
echo "ðŸŽ¯ Usage examples:"
echo "  ./red_mask my_photo.jpg"
echo "  ./red_mask /path/to/image.png custom_output"
echo "  ./red_mask https://example.com/photo.jpg web_image"